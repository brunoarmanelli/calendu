<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Calendu</title>
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="css/sb-admin.css" rel="stylesheet">
  <link href="css/estilo.css" rel="stylesheet">
</head>

<body class="fixed-nav sticky-footer bg-dark" id="page-top">
  <!-- Navbar-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
    <a class="navbar-brand" href="dashboard.html">
      <img src="images/logo.png" width="30" height="30" class="d-inline-block align-top" alt=""> Calendu</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive"
      aria-controls="navbarResponsive" aria-expanded="true" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addDisc">Adicionar Disciplina</button>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="logout">
            <i class="fa fa-fw fa-sign-out"></i>Logout</a>
        </li>

      </ul>
    </div>
  </nav>

  <div class="content-wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12 col-md-8" id="accordion">
          <!-- Template -->
          <script id="template" type="text/x-handlebars-template">
            {{#if disciplinas}}
            {{#each disciplinas}}
              <div class="card">
                <div class="card-header" id="heading{{@index}}">
                  <h5 class="mb-0">
                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapse{{@index}}" aria-expanded="true" aria-controls="collapse{{@index}}">
                      {{nome}}
                    </button>
                    <!--Ajustar Alinhamento-->
                    <a class="remover-disciplina" href="#" data-key="{{@key}}">
                        <i class="fa fa-trash-o" style="float: right;"></i>
                    </a>
                  </h5>
                </div>
                <div id="collapse{{@index}}" class="collapse hide" aria-labelledby="heading{{@index}}" data-parent="#accordion">
                  <div class="card-body">
                    <!-- Cards -->
                    <div class="row">
                      <div class="col-xl-6 col-sm-12 mb-3">
                        <div class="card text-white bg-primary o-hidden h-100">
                          <div class="card-body">
                            <div class="card-body-icon">
                              <i class="fa fa-edit"></i>
                            </div>
                            <div class="mr-5">Provas 
                              <a id="adicionar-prova" href="#" style="color: white" data-toggle="modal" data-target="#addProva" data-key="{{@key}}">
                                <i class="fa fa-plus-square"></i>
                              </a>
                            </div>
                          </div>
                          <a id="target" class="card-footer text-white clearfix small z-1" href="#">
                              <div class="esconde">
                                  {{#eachSort provas}}
                                  <div class="row">
                                      <div class="col-sm-10">
                                        <li>{{data}}</li>
                                      </div>
                                      <div class="col-sm-2">
                                          <i class="fa fa-trash-o"></i>
                                      </div>
                                      <br>
                                    </div>
                                    {{/eachSort}}
                              </div>
                            <span class="float-left">Ver Detalhes</span>
                            <span class="float-right">
                              <i class="fa fa-angle-right"></i>
                            </span>
                          </a>
                        </div>
                      </div>
                      <div class="col-xl-6 col-sm-12 mb-3">
                        <div class="card text-white bg-warning o-hidden h-100">
                          <div class="card-body">
                            <div class="card-body-icon">
                              <i class="fa fa-fw fa-list"></i>
                            </div>
                            <div class="mr-5">Tarefas
                            <a id="adicionar-trabalho" href="#" style="color: white" data-toggle="modal" data-target="#addTrabalho" data-key="{{@key}}">
                              <i class="fa fa-plus-square"></i>
                            </a>
                          </div>
                        </div>
                          <a id="target" class="card-footer text-white clearfix small z-1" href="#">
                            <div class="esconde">
                              {{#eachSort trabalhos}}
                                {{data}}<br>
                              {{/eachSort}}
                            </div>
                            <span class="float-left">Ver Detalhes</span>
                            <span class="float-right">
                              <i class="fa fa-angle-right"></i>
                            </span>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              {{/each}}
              <!--Se não existir nenhuma disciplina cadastrada, gera o código abaixo-->
              {{else}}
              <h3>Nenhuma disciplina cadastrada</h3>
              <div><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addDisc">Adicionar Disciplina</button></div>
              {{/if}}
          </script>
        </div>

        <!--Calendário-->
        <div class="col-sm-12 col-md-4" id="calendar">
          <div class="card bg-danger text-white">
            <div class="card-header">
              <h2 class="card-title">Calendário</h2>
            </div>
            <div class="card-body" id="container-calendario">
              <script id="template-calendario" type="text/x-handlebars-template">
                {{#if disciplinas}}
                {{#each disciplinas}}
                  <h5>{{nome}}</h5>
                  <h6>Provas</h6>
                  {{#if provas}}
                  {{#eachSort provas}}
                    <li class="card-text">{{data}}</li>
                  {{/eachSort}}
                  {{else}}
                  <li>Nenhuma prova cadastrada</li>
                  {{/if}}
                  <h6>Tarefas</h6>
                  {{#if trabalhos}}
                  {{#eachSort trabalhos}}
                    <li class="card-text">{{data}}</li>
                  {{/eachSort}}
                  {{else}}
                  <li>Nenhuma tarefa cadastrada</li>
                  {{/if}}
                  <br>
                {{/each}}
                {{else}}
                <li>Nenhuma disciplina cadastrada</li>
                {{/if}}
              </script>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Adicionar Disciplina -->
      <div class="modal" id="addDisc" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Nova Disciplina</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form id="novaDiscForm">
                <div class="form-group">
                  <label for="nomeDisc">Disciplina</label>
                  <input type="text" class="form-control" id="nomeDisc" placeholder="Nome da disciplina" required>
                </div>
                <div class="form-group">
                  <label for="diaSemana">Dias da Semana</label>
                  <input type="text" class="form-control" id="diaSemana" placeholder="Dias da Semana" required>
                </div>
                <div class="form-group">
                  <label for="horario">Horário</label>
                  <input type="time" class="form-control" id="horario" placeholder="Horário" required>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Adicionar Prova -->
      <div class="modal" id="addProva" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Nova Prova</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form id="novaProvaForm">
                <div class="form-group">
                  <label for="dataProva">Data</label>
                  <input type="date" class="form-control" id="dataProva" placeholder="Data da prova" required>
                </div>
                <div class="form-group">
                  <label for="horaProva">Horário</label>
                  <input type="time" class="form-control" id="horaProva" placeholder="Horário da Prova" required>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Adicionar Trabalho -->
      <div class="modal" id="addTrabalho" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Novo Trabalho</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form id="novoTrabalhoForm">
                <div class="form-group">
                  <label for="dataTrabalho">Data</label>
                  <input type="date" class="form-control" id="dataTrabalho" placeholder="Data do Trabalho" required>
                </div>
                <div class="form-group">
                  <label for="horaTrabalho">Horário</label>
                  <input type="time" class="form-control" id="horaTrabalho" placeholder="Horário do Trabalho" required>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Adicionar Exercício -->
      <div class="modal" id="addExercicio" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Novo Exercício</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form id="novoExercicioForm">
                <div class="form-group">
                  <label for="dataExercicio">Data</label>
                  <input type="date" class="form-control" id="dataExercicio" placeholder="Data do Exercício" required>
                </div>
                <div class="form-group">
                  <label for="horaExercicio">Horário</label>
                  <input type="time" class="form-control" id="horaExercicio" placeholder="Horário do Exercício" required>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /.container-fluid-->
    <!-- /.content-wrapper-->
    <footer class="sticky-footer">
      <div class="container">
        <div class="text-center">
          <small>Copyright © Calendu 2018</small>
        </div>
      </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/2.7.0/firebase-ui-auth__pt.js"></script>
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="js/handlebars-v4.0.11.js"></script>
    <script src="js/scripts.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="js/funcoes.js"></script>

  </div>
</body>

</html>